!function(c){function t(){this.regional=[],this.regional[""]={labels:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],labels1:["Year","Month","Week","Day","Hour","Minute","Second"],compactLabels:["y","m","w","d"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:!1},this._defaults={until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:!1,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:!1,onExpiry:null,onTick:null,tickInterval:1},c.extend(this._defaults,this.regional[""]),this._serverSyncs=[];var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null,s=0;!i||c.noRequestAnimationFrame?(c.noRequestAnimationFrame=null,setInterval(function(){m._updateTargets()},980)):(s=window.animationStartTime||window.webkitAnimationStartTime||window.mozAnimationStartTime||window.oAnimationStartTime||window.msAnimationStartTime||(new Date).getTime(),i(function t(e){e=e<1e12?performance.now?performance.now()+performance.timing.navigationStart:Date.now():e||(new Date).getTime();1e3<=e-s&&(m._updateTargets(),s=e),i(t)}))}c.extend(t.prototype,{markerClassName:"hasCountdown",propertyName:"countdown",_rtlClass:"countdown_rtl",_sectionClass:"countdown_section",_amountClass:"countdown_amount",_rowClass:"countdown_row",_holdingClass:"countdown_holding",_showClass:"countdown_show",_descrClass:"countdown_descr",_timerTargets:[],setDefaults:function(t){this._resetExtraLabels(this._defaults,t),c.extend(this._defaults,t||{})},UTCDate:function(t,e,i,s,n,o,a,r){"object"==typeof e&&e.constructor==Date&&(r=e.getMilliseconds(),a=e.getSeconds(),o=e.getMinutes(),n=e.getHours(),s=e.getDate(),i=e.getMonth(),e=e.getFullYear());var l=new Date;return l.setUTCFullYear(e),l.setUTCDate(1),l.setUTCMonth(i||0),l.setUTCDate(s||1),l.setUTCHours(n||0),l.setUTCMinutes((o||0)-(Math.abs(t)<30?60*t:t)),l.setUTCSeconds(a||0),l.setUTCMilliseconds(r||0),l},periodsToSeconds:function(t){return 31557600*t[0]+2629800*t[1]+604800*t[2]+86400*t[3]+3600*t[4]+60*t[5]+t[6]},_attachPlugin:function(t,e){var i;(t=c(t)).hasClass(this.markerClassName)||(i={options:c.extend({},this._defaults),_periods:[0,0,0,0,0,0,0]},t.addClass(this.markerClassName).data(this.propertyName,i),this._optionPlugin(t,e))},_addTarget:function(t){this._hasTarget(t)||this._timerTargets.push(t)},_hasTarget:function(t){return-1<c.inArray(t,this._timerTargets)},_removeTarget:function(e){this._timerTargets=c.map(this._timerTargets,function(t){return t==e?null:t})},_updateTargets:function(){for(var t=this._timerTargets.length-1;0<=t;t--)this._updateCountdown(this._timerTargets[t])},_optionPlugin:function(t,e,i){var s,n=(t=c(t)).data(this.propertyName);if(!e||"string"==typeof e&&null==i)return s=e,(e=(n||{}).options)&&s?e[s]:e;t.hasClass(this.markerClassName)&&("string"==typeof(e=e||{})&&(s=e,(e={})[s]=i),this._resetExtraLabels(n.options,e),c.extend(n.options,e),this._adjustSettings(t,n),s=new Date,(n._since&&n._since<s||n._until&&n._until>s)&&this._addTarget(t[0]),this._updateCountdown(t,n))},_updateCountdown:function(t,e){var i,s=c(t);(e=e||s.data(this.propertyName))&&(s.html(this._generateHTML(e)).toggleClass(this._rtlClass,e.options.isRTL),"function"==typeof e.options.onTick&&(i="lap"!=e._hold?e._periods:this._calculatePeriods(e,e._show,e.options.significant,new Date),1!=e.options.tickInterval&&this.periodsToSeconds(i)%e.options.tickInterval!=0||e.options.onTick.apply(t,[i])),"pause"!=e._hold&&(e._since?e._now.getTime()<e._since.getTime():e._now.getTime()>=e._until.getTime())&&!e._expiring?(e._expiring=!0,(this._hasTarget(t)||e.options.alwaysExpire)&&(this._removeTarget(t),"function"==typeof e.options.onExpiry&&e.options.onExpiry.apply(t,[]),e.options.expiryText&&(i=e.options.layout,e.options.layout=e.options.expiryText,this._updateCountdown(t,e),e.options.layout=i),e.options.expiryUrl)&&(window.location=e.options.expiryUrl),e._expiring=!1):"pause"==e._hold&&this._removeTarget(t),s.data(this.propertyName,e))},_resetExtraLabels:function(t,e){var i=!1;for(s in e)if("whichLabels"!=s&&s.match(/[Ll]abels/)){i=!0;break}if(i)for(var s in t)s.match(/[Ll]abels[02-9]/)&&(t[s]=null)},_adjustSettings:function(t,e){for(var i,s=0,n=null,o=0;o<this._serverSyncs.length;o++)if(this._serverSyncs[o][0]==e.options.serverSync){n=this._serverSyncs[o][1];break}null!=n?(s=e.options.serverSync?n:0,i=new Date):(t="function"==typeof e.options.serverSync?e.options.serverSync.apply(t,[]):null,i=new Date,s=t?i.getTime()-t.getTime():0,this._serverSyncs.push([e.options.serverSync,s]));t=null==(t=e.options.timezone)?-i.getTimezoneOffset():t;e._since=e.options.since,null!=e._since&&(e._since=this.UTCDate(t,this._determineTime(e._since,null)),e._since)&&s&&e._since.setMilliseconds(e._since.getMilliseconds()+s),e._until=this.UTCDate(t,this._determineTime(e.options.until,i)),s&&e._until.setMilliseconds(e._until.getMilliseconds()+s),e._show=this._determineShow(e)},_destroyPlugin:function(t){(t=c(t)).hasClass(this.markerClassName)&&(this._removeTarget(t[0]),t.removeClass(this.markerClassName).empty().removeData(this.propertyName))},_pausePlugin:function(t){this._hold(t,"pause")},_lapPlugin:function(t){this._hold(t,"lap")},_resumePlugin:function(t){this._hold(t,null)},_hold:function(t,e){var i,s=c.data(t,this.propertyName);s&&("pause"!=s._hold||e||(s._periods=s._savePeriods,i=s._since?"-":"+",s[s._since?"_since":"_until"]=this._determineTime(i+s._periods[0]+"y"+i+s._periods[1]+"o"+i+s._periods[2]+"w"+i+s._periods[3]+"d"+i+s._periods[4]+"h"+i+s._periods[5]+"m"+i+s._periods[6]+"s"),this._addTarget(t)),s._hold=e,s._savePeriods="pause"==e?s._periods:null,c.data(t,this.propertyName,s),this._updateCountdown(t,s))},_getTimesPlugin:function(t){t=c.data(t,this.propertyName);return t?t._hold?this._calculatePeriods(t,t._show,t.options.significant,new Date):t._periods:null},_determineTime:function(t,e){var i,e=null==t?e:"string"==typeof t?function(t){t=t.toLowerCase();for(var e=new Date,i=e.getFullYear(),s=e.getMonth(),n=e.getDate(),o=e.getHours(),a=e.getMinutes(),r=e.getSeconds(),l=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g,_=l.exec(t);_;){switch(_[2]||"s"){case"s":r+=parseInt(_[1],10);break;case"m":a+=parseInt(_[1],10);break;case"h":o+=parseInt(_[1],10);break;case"d":n+=parseInt(_[1],10);break;case"w":n+=7*parseInt(_[1],10);break;case"o":s+=parseInt(_[1],10),n=Math.min(n,m._getDaysInMonth(i,s));break;case"y":i+=parseInt(_[1],10),n=Math.min(n,m._getDaysInMonth(i,s))}_=l.exec(t)}return new Date(i,s,n,o,a,r,0)}(t):"number"==typeof t?(e=t,(i=new Date).setTime(i.getTime()+1e3*e),i):t;return e&&e.setMilliseconds(0),e},_getDaysInMonth:function(t,e){return 32-new Date(t,e,32).getDate()},_normalLabels:function(t){return t},_generateHTML:function(i){for(var s=this,t=(i._periods=i._hold?i._periods:this._calculatePeriods(i,i._show,i.options.significant,new Date),!1),e=0,n=i.options.significant,o=c.extend({},i._show),a=0;a<=6;a++)t|="?"==i._show[a]&&0<i._periods[a],o[a]="?"!=i._show[a]||t?i._show[a]:null,e+=o[a]?1:0,n-=0<i._periods[a]?1:0;for(var r=[!1,!1,!1,!1,!1,!1,!1],a=6;0<=a;a--)i._show[a]&&(i._periods[a]?r[a]=!0:(r[a]=0<n,n--));function l(t){var e=i.options["compactLabels"+h(i._periods[t])];return o[t]?s._translateDigits(i,i._periods[t])+(e||p)[t]+" ":""}function _(t){var e=i.options["labels"+h(i._periods[t])];return!i.options.significant&&o[t]||i.options.significant&&r[t]?'<span class="'+m._sectionClass+'"><span class="'+m._amountClass+'">'+s._translateDigits(i,i._periods[t])+"</span><br/>"+(e||p)[t]+"</span>":""}var p=i.options.compact?i.options.compactLabels:i.options.labels,h=i.options.whichLabels||this._normalLabels;return i.options.layout?this._buildLayout(i,o,i.options.layout,i.options.compact,i.options.significant,r):(i.options.compact?'<span class="'+this._rowClass+" "+this._amountClass+(i._hold?" "+this._holdingClass:"")+'">'+l(0)+l(1)+l(2)+l(3)+(o[4]?this._minDigits(i,i._periods[4],2):"")+(o[5]?(o[4]?i.options.timeSeparator:"")+this._minDigits(i,i._periods[5],2):"")+(o[6]?(o[4]||o[5]?i.options.timeSeparator:"")+this._minDigits(i,i._periods[6],2):""):'<span class="'+this._rowClass+" "+this._showClass+(i.options.significant||e)+(i._hold?" "+this._holdingClass:"")+'">'+_(0)+_(1)+_(2)+_(3)+_(4)+_(5)+_(6))+"</span>"+(i.options.description?'<span class="'+this._rowClass+" "+this._descrClass+'">'+i.options.description+"</span>":"")},_buildLayout:function(i,t,e,s,n,o){function a(t){return(i.options[(s?"compactLabels":"labels")+_(i._periods[t])]||l)[t]}function r(t,e){return i.options.digits[Math.floor(t/e)%10]}for(var l=i.options[s?"compactLabels":"labels"],_=i.options.whichLabels||this._normalLabels,p={desc:i.options.description,sep:i.options.timeSeparator,yl:a(0),yn:this._minDigits(i,i._periods[0],1),ynn:this._minDigits(i,i._periods[0],2),ynnn:this._minDigits(i,i._periods[0],3),y1:r(i._periods[0],1),y10:r(i._periods[0],10),y100:r(i._periods[0],100),y1000:r(i._periods[0],1e3),ol:a(1),on:this._minDigits(i,i._periods[1],1),onn:this._minDigits(i,i._periods[1],2),onnn:this._minDigits(i,i._periods[1],3),o1:r(i._periods[1],1),o10:r(i._periods[1],10),o100:r(i._periods[1],100),o1000:r(i._periods[1],1e3),wl:a(2),wn:this._minDigits(i,i._periods[2],1),wnn:this._minDigits(i,i._periods[2],2),wnnn:this._minDigits(i,i._periods[2],3),w1:r(i._periods[2],1),w10:r(i._periods[2],10),w100:r(i._periods[2],100),w1000:r(i._periods[2],1e3),dl:a(3),dn:this._minDigits(i,i._periods[3],1),dnn:this._minDigits(i,i._periods[3],2),dnnn:this._minDigits(i,i._periods[3],3),d1:r(i._periods[3],1),d10:r(i._periods[3],10),d100:r(i._periods[3],100),d1000:r(i._periods[3],1e3),hl:a(4),hn:this._minDigits(i,i._periods[4],1),hnn:this._minDigits(i,i._periods[4],2),hnnn:this._minDigits(i,i._periods[4],3),h1:r(i._periods[4],1),h10:r(i._periods[4],10),h100:r(i._periods[4],100),h1000:r(i._periods[4],1e3),ml:a(5),mn:this._minDigits(i,i._periods[5],1),mnn:this._minDigits(i,i._periods[5],2),mnnn:this._minDigits(i,i._periods[5],3),m1:r(i._periods[5],1),m10:r(i._periods[5],10),m100:r(i._periods[5],100),m1000:r(i._periods[5],1e3),sl:a(6),sn:this._minDigits(i,i._periods[6],1),snn:this._minDigits(i,i._periods[6],2),snnn:this._minDigits(i,i._periods[6],3),s1:r(i._periods[6],1),s10:r(i._periods[6],10),s100:r(i._periods[6],100),s1000:r(i._periods[6],1e3)},h=e,d=0;d<=6;d++)var u="yowdhms".charAt(d),u=new RegExp("\\{"+u+"<\\}(.*)\\{"+u+">\\}","g"),h=h.replace(u,!n&&t[d]||n&&o[d]?"$1":"");return c.each(p,function(t,e){t=new RegExp("\\{"+t+"\\}","g");h=h.replace(t,e)}),h},_minDigits:function(t,e,i){return(e=""+e).length>=i?this._translateDigits(t,e):this._translateDigits(t,(e="0000000000"+e).substr(e.length-i))},_translateDigits:function(e,t){return(""+t).replace(/[0-9]/g,function(t){return e.options.digits[t]})},_determineShow:function(t){var t=t.options.format,e=[];return e[0]=t.match("y")?"?":t.match("Y")?"!":null,e[1]=t.match("o")?"?":t.match("O")?"!":null,e[2]=t.match("w")?"?":t.match("W")?"!":null,e[3]=t.match("d")?"?":t.match("D")?"!":null,e[4]=t.match("h")?"?":t.match("H")?"!":null,e[5]=t.match("m")?"?":t.match("M")?"!":null,e[6]=t.match("s")?"?":t.match("S")?"!":null,e},_calculatePeriods:function(t,i,e,s){t._now=s,t._now.setMilliseconds(0);function n(t,e){_[t]=i[t]?Math.floor(p/e):0,p-=_[t]*e}var o,a,r,l=new Date(t._now.getTime()),_=(t._since?s.getTime()<t._since.getTime()?t._now=s=l:s=t._since:(l.setTime(t._until.getTime()),s.getTime()>t._until.getTime()&&(t._now=s=l)),[0,0,0,0,0,0,0]),p=((i[0]||i[1])&&(o=m._getDaysInMonth(s.getFullYear(),s.getMonth()),r=m._getDaysInMonth(l.getFullYear(),l.getMonth()),r=l.getDate()==s.getDate()||l.getDate()>=Math.min(o,r)&&s.getDate()>=Math.min(o,r),a=function(t){return 60*(60*t.getHours()+t.getMinutes())+t.getSeconds()},r=Math.max(0,12*(l.getFullYear()-s.getFullYear())+l.getMonth()-s.getMonth()+(l.getDate()<s.getDate()&&!r||r&&a(l)<a(s)?-1:0)),_[0]=i[0]?Math.floor(r/12):0,_[1]=i[1]?r-12*_[0]:0,a=(s=new Date(s.getTime())).getDate()==o,r=m._getDaysInMonth(s.getFullYear()+_[0],s.getMonth()+_[1]),s.getDate()>r&&s.setDate(r),s.setFullYear(s.getFullYear()+_[0]),s.setMonth(s.getMonth()+_[1]),a)&&s.setDate(r),Math.floor((l.getTime()-s.getTime())/1e3));if(n(2,604800),n(3,86400),n(4,3600),n(5,60),n(6,1),0<p&&!t._since)for(var h=[1,12,4.3482,7,24,60,60],d=6,u=1,c=6;0<=c;c--)i[c]&&(u<=_[d]&&(_[d]=0,p=1),0<p)&&(_[c]++,p=0,d=c,u=1),u*=h[c];if(e)for(c=0;c<=6;c++)e&&_[c]?e--:e||(_[c]=0);return _}});var n=["getTimes"];c.fn.countdown=function(t){var e,i,s=Array.prototype.slice.call(arguments,1);return i=s,"option"==(e=t)&&(0==i.length||1==i.length&&"string"==typeof i[0])||-1<c.inArray(e,n)?m["_"+t+"Plugin"].apply(m,[this[0]].concat(s)):this.each(function(){if("string"==typeof t){if(!m["_"+t+"Plugin"])throw"Unknown command: "+t;m["_"+t+"Plugin"].apply(m,[this].concat(s))}else m._attachPlugin(this,t||{})})};var m=c.countdown=new t}(jQuery);
